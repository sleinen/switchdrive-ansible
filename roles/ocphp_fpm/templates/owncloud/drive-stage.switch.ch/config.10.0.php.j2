<?php
$CONFIG = array (
  'instanceid'    => '{{shards.instanceid}}',
  'passwordsalt'  => '{{owncloud_passwordsalt[service_name]}}',
  'datadirectory' => '/mnt/data',
  'overwritehost' => '{{shards.overwritehost}}',
  'overwrite.cli.url' => 'https://{{shards.overwritehost}}',

  'dbtype' => 'mysql',
  'dbname' => 'owncloud',
  #'dbname' => '{{shards.shard_name}}',
  'dbtableprefix' => 'oc_',
  'dbuser' => 'owncloud',
  #'dbhost' => '{{hostvars[groups["mariadb"][0]].inventory_hostname}}',
  'dbhost' => 'localhost',
  'dbpassword' => '{{mariadb_passwd}}',
  'dbdriveroptions' => [
   PDO::MYSQL_ATTR_USE_BUFFERED_QUERY => true
  ],

  'version' => '{{shards.version_in_config}}',
  'installed' => {{shards.installed}},
  'ldapIgnoreNamingRules' => false,
# Changing the log level to 1 as suggested by owncloud
  'log_type' => 'owncloud',
  'loglevel' => '1',
  'log_query' => false,
  'cron_log' => true,
  'log_authfailip' => false,
  'logfile' => '/var/log/owncloud/{{shards.shard_name}}.{{owncloud_logfile_name}}',
  'logdateformat' => 'U.u',
  'logtimezone' => 'Europe/Berlin',
  'log_rotate_size' => 104857600,

  'mail_domain' => 'switch.ch',
  'mail_smtpdebug' => false,
  'mail_smtpmode' => 'smtp',
  'mail_smtphost' => 'localhost',
  'mail_smtpport' => 25,
  #'theme' => 'switch',
  'check_for_working_webdav' => false,
  'check_for_working_htaccess' => false,
  'updatechecker' => false,
  'license-key' => '{{license_key}}',
  'appstoreenabled' => false,
  'enable_previews' => true,
  'enable_avatars' => false,
  'asset-pipeline.enabled' => false,
  'activity_expire_days' => 30,
  'filesystem_check_changes' => 0,
    'trusted_domains' =>
      array (
        0 => '{{ service_name }}',
        1 => '{{shards.shard_name}}.{{ service_name }}',
      ),
  'customclient_desktop' => 'https://help.switch.ch/drive/downloads/',
  'customclient_android' => 'https://play.google.com/store/apps/details?id=ch.switchdrive.androidclient',
  'customclient_ios' => 'https://itunes.apple.com/app/switchdrive/id847336453?mt=8',
  'has_internet_connection' => true,
  'supportedDatabases' =>
    array (
        0 => 'mysql',
    ),
  'shared_folder' => '/',
  'share_folder' => '/',
  'secret' => '{{oc_config_secret}}',
  'maintenance' => false,
  'singleuser' => false,
  'minimum.supported.desktop.version' => '2.3.3',
  'memcache.local' => '\\OC\\Memcache\\APCu',
  'memcache.distributed' => '\\OC\\Memcache\\Redis',
  'memcache.locking' => '\\OC\\Memcache\\Redis',
  'filelocking.enabled' => true,
  'redis' => array(
     'host' => '{{ hostvars[groups['redis'][0]].inventory_hostname }}',
     'port' => 6379,
      ),
  'enabledPreviewProviders' =>
  array (
    0 => 'OC\\Preview\\PNG',
    1 => 'OC\\Preview\\JPEG',
    2 => 'OC\\Preview\\GIF',
    3 => 'OC\\Preview\\XBitmap',
    4 => 'OC\\Preview\\MP3',
    5 => 'OC\\Preview\\TXT',
    6 => 'OC\\Preview\\MarkDown',
  ),
  'enable_certificate_management' => true,
  'trashbin_retention_obligation' => '90, 90',
  'blacklisted_files' => array(
    '.htaccess',
    '.pst',
  ),
);
